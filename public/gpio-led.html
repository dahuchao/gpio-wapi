<link rel="import" href="bower_components/polymer/polymer.html">
<link rel="import" href="bower_components/core-ajax/core-ajax.html">
<link rel="import" href="bower_components/paper-button/paper-button.html">
<link rel="import" href="bower_components/paper-toggle-button/paper-toggle-button.html">
<polymer-element name="gpio-led">
    <template>
        <div class="container">
            <div class="row bureau">
                <div class="col-sm-12">
                    <core-ajax url="http://localhost:3000/gpio/led" method="PUT" body='{"etat":{{allumee}}}' auto>
                    </core-ajax>
                    <!-- shadow DOM here -->
                    <core-label for="etat">
                        Lumi√®re:
                    </core-label>
                    <paper-toggle-button id="etat" checked="{{allumee}}" change="{{allumage}}"></paper-toggle-button>
                </div>
            </div>
        </div>
        <link rel="stylesheet" href="bower_components/bootstrap/dist/css/bootstrap.min.css">
    </template>
    <script>
        Polymer({
            allumage: function () {
                if (allumee) {
                    console.info('Eteindre');
                    this.allumee = false;
                } else {
                    console.info('Allumer');
                    this.allumee = true;
                }
            }
        });
    </script>
</polymer-element>